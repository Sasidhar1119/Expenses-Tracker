<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expenses</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <style>
        .container {
            width: 80%;
            margin: 0 auto;
        }
        .table {
            display: table;
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        .table-header, .table-row {
            display: table-row;
        }
        .table-header {
            font-weight: bold;
            background-color: greenyellow;
        }
        .table-cell {
            display: table-cell;
            border: 1px solid #ddd;
            padding: 8px;
        }

        .topic{
            background: blue;
        }
        nav {
    display: flex;
    justify-content: space-around;
    align-items: center;
    font-family: "Segoe UI";
}

header {
    background-color: #e7e7e7;
    padding: 5px;
    text-align: center;
  }

  .right ul {
    display: flex;
    gap: 34px;
}

.right ul li {
    list-style: none;

    display: flex;
    align-items: center;
    cursor: pointer;
}

.right ul li span {
    padding: 0 5px;

}
.right ul li span a{
    text-decoration: none;


}
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../view2.php"></script>
    <script src="./new_view.js"></script>

</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <img class="mylogo " src="./Images/logo.png" height="60" alt="Logo"  width="60px" >
            </div>
            <div class="right">
                <ul>
                    <li><span><a class="btn" href="./1.html">Home</a> </span>
                    </li>
                    <li><span><a class="btn" href="./homepage.html">about</a></span>
                    </li>
                    <li><span> <a class="btn btn-primary" href="./homepage.html">Log out</a> </span>
                    </li>
                    
            </div>

            </li>
            </ul>
            </div>
        </nav>
    </header>
    <div class="container">
        <h1 class="topic">Total expenses you have done...</h1>
        <div id="expensesTable" class="table">
            <div class="table-header">
                <div class="table-cell">Amount</div>
                <div class="table-cell">Date</div>
                <div class="table-cell">Description</div>
                <div class="table-cell">Mode of Payment</div>
                <div class="table-cell">Expense Category</div>
            </div>
        </div>
    </div>
    <div>
    <canvas id="myChart" width="400" height="200"></canvas>
        </div>

    <script>
        // Fetch expenses data from PHP file and populate table
        fetch('../view.php')
            .then(response => response.json())
            .then(data => {
                const expensesTable = document.getElementById('expensesTable');
                data.forEach(expense => {
                    const row = document.createElement('div');
                    row.classList.add('table-row');
                    row.innerHTML = `
                        <div class="table-cell">${expense.amount}</div>
                        <div class="table-cell">${expense.date}</div>
                        <div class="table-cell">${expense.description}</div>
                        <div class="table-cell">${expense.mode_of_payment}</div>
                        <div class="table-cell">${expense.expense_category}</div>
                    `;
                    expensesTable.appendChild(row);
                });
            })
            .catch(error => console.error('Error fetching expenses:', error));
    </script>
</body>
</html>
